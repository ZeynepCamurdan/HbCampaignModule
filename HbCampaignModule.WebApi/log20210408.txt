2021-04-08 14:52:48.567 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 14:52:49.029 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 14:52:49.048 +03:00 [INF] Hosting environment: Development
2021-04-08 14:52:49.052 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 14:52:49.116 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 14:52:49.188 +03:00 [INF] Request finished in 76.9525ms 404 
2021-04-08 15:48:26.431 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 15:48:26.830 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 15:48:26.837 +03:00 [INF] Hosting environment: Development
2021-04-08 15:48:26.840 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 15:48:26.889 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 15:48:26.957 +03:00 [INF] Request finished in 74.8728ms 404 
2021-04-08 15:48:49.084 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/GetCampaignInfo?campaignName=C2  
2021-04-08 15:48:49.101 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi)'
2021-04-08 15:48:49.170 +03:00 [INF] Route matched with {action = "GetCampaignInfo", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCampaignInfo(System.String) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 15:48:52.870 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 15:48:54.070 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__campaignName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
WHERE c."Name" = @__campaignName_0
LIMIT 1
2021-04-08 15:48:58.041 +03:00 [ERR] CampaignController CreateCampaign error
2021-04-08 15:48:59.569 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 15:49:01.264 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi) in 12084.0907ms
2021-04-08 15:49:01.269 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi)'
2021-04-08 15:49:01.281 +03:00 [INF] Request finished in 12196.6009ms 400 application/json; charset=utf-8
2021-04-08 15:49:11.956 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/GetCampaignInfo?campaignName=C1  
2021-04-08 15:49:11.966 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi)'
2021-04-08 15:49:11.969 +03:00 [INF] Route matched with {action = "GetCampaignInfo", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCampaignInfo(System.String) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 15:49:13.857 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 15:49:13.868 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
WHERE c."Name" = @__campaignName_0
LIMIT 1
2021-04-08 15:49:14.012 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 15:49:15.093 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
WHERE c."Name" = @__campaignName_0
LIMIT 1
2021-04-08 15:49:17.278 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.CampaignDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 15:49:20.610 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi) in 8636.085ms
2021-04-08 15:49:20.613 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi)'
2021-04-08 15:49:20.618 +03:00 [INF] Request finished in 8662.4554ms 200 application/json; charset=utf-8
2021-04-08 16:40:59.788 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 16:41:00.245 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 16:41:00.286 +03:00 [INF] Hosting environment: Development
2021-04-08 16:41:00.288 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 16:41:00.330 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 16:41:00.482 +03:00 [INF] Request finished in 157.6464ms 404 
2021-04-08 16:42:02.731 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 16:42:02.749 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-04-08 16:42:02.753 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-04-08 16:42:02.758 +03:00 [INF] Request finished in 27.5893ms 405 
2021-04-08 16:42:31.051 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 16:42:31.424 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 16:42:31.438 +03:00 [INF] Hosting environment: Development
2021-04-08 16:42:31.445 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 16:42:31.485 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 16:42:31.554 +03:00 [INF] Request finished in 72.7208ms 404 
2021-04-08 16:42:37.366 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 16:42:37.383 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 16:42:37.453 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.Model.Response`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 16:42:51.317 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 16:42:52.604 +03:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignCode", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON c."Id" = o."CampaignId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 16:42:52.678 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HbCampaignModule.Infrastructure.Context.PostgreSqlDbContext'.
Npgsql.PostgresException (0x80004005): 42703: o.CampaignCode sütunu mevcut değil
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: HATA
    SqlState: 42703
    MessageText: o.CampaignCode sütunu mevcut değil
    Hint: Belki  "o.CampaignId" sütununu kullanmak istediniz
    Position: 277
    File: d:\pginstaller_13.auto\postgres.windows-x64\src\backend\parser\parse_relation.c
    Line: 3514
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: o.CampaignCode sütunu mevcut değil
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: HATA
    SqlState: 42703
    MessageText: o.CampaignCode sütunu mevcut değil
    Hint: Belki  "o.CampaignId" sütununu kullanmak istediniz
    Position: 277
    File: d:\pginstaller_13.auto\postgres.windows-x64\src\backend\parser\parse_relation.c
    Line: 3514
    Routine: errorMissingColumn
2021-04-08 16:46:24.146 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 16:46:24.564 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 16:46:24.572 +03:00 [INF] Hosting environment: Development
2021-04-08 16:46:24.579 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 16:46:24.626 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 16:46:24.684 +03:00 [INF] Request finished in 63.4036ms 404 
2021-04-08 16:46:27.135 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 16:46:27.153 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-04-08 16:46:27.158 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-04-08 16:46:27.163 +03:00 [INF] Request finished in 28.0293ms 405 
2021-04-08 16:46:54.394 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 16:46:54.872 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 16:46:54.889 +03:00 [INF] Hosting environment: Development
2021-04-08 16:46:54.892 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 16:46:54.968 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 16:46:54.968 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 16:46:55.028 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 16:46:55.066 +03:00 [INF] Request finished in 106.7904ms 404 
2021-04-08 16:46:55.170 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.Model.Response`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 16:47:06.235 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 16:47:07.473 +03:00 [ERR] Failed executing DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignCode", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON c."Id" = o."CampaignId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 16:47:07.536 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HbCampaignModule.Infrastructure.Context.PostgreSqlDbContext'.
Npgsql.PostgresException (0x80004005): 42703: o.CampaignCode sütunu mevcut değil
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: HATA
    SqlState: 42703
    MessageText: o.CampaignCode sütunu mevcut değil
    Hint: Belki  "o.CampaignId" sütununu kullanmak istediniz
    Position: 277
    File: d:\pginstaller_13.auto\postgres.windows-x64\src\backend\parser\parse_relation.c
    Line: 3514
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: o.CampaignCode sütunu mevcut değil
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: HATA
    SqlState: 42703
    MessageText: o.CampaignCode sütunu mevcut değil
    Hint: Belki  "o.CampaignId" sütununu kullanmak istediniz
    Position: 277
    File: d:\pginstaller_13.auto\postgres.windows-x64\src\backend\parser\parse_relation.c
    Line: 3514
    Routine: errorMissingColumn
2021-04-08 16:48:38.270 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 16:48:38.711 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 16:48:38.723 +03:00 [INF] Hosting environment: Development
2021-04-08 16:48:38.725 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 16:48:38.814 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 16:48:38.814 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 16:48:38.870 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 16:48:38.903 +03:00 [INF] Request finished in 95.5728ms 404 
2021-04-08 16:48:38.992 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.Model.Response`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 16:48:53.714 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 16:48:55.041 +03:00 [ERR] Failed executing DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignCode", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON c."Id" = o."CampaignId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 16:48:55.111 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HbCampaignModule.Infrastructure.Context.PostgreSqlDbContext'.
Npgsql.PostgresException (0x80004005): 42703: o.CampaignCode sütunu mevcut değil
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: HATA
    SqlState: 42703
    MessageText: o.CampaignCode sütunu mevcut değil
    Hint: Belki  "o.CampaignId" sütununu kullanmak istediniz
    Position: 277
    File: d:\pginstaller_13.auto\postgres.windows-x64\src\backend\parser\parse_relation.c
    Line: 3514
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: o.CampaignCode sütunu mevcut değil
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: HATA
    SqlState: 42703
    MessageText: o.CampaignCode sütunu mevcut değil
    Hint: Belki  "o.CampaignId" sütununu kullanmak istediniz
    Position: 277
    File: d:\pginstaller_13.auto\postgres.windows-x64\src\backend\parser\parse_relation.c
    Line: 3514
    Routine: errorMissingColumn
2021-04-08 16:50:26.251 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 16:50:26.691 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 16:50:26.702 +03:00 [INF] Hosting environment: Development
2021-04-08 16:50:26.705 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 16:50:26.759 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 16:50:26.829 +03:00 [INF] Request finished in 85.0572ms 404 
2021-04-08 16:50:38.930 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 16:50:38.946 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 16:50:39.030 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.Model.Response`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 16:50:47.337 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 16:50:48.661 +03:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignCode", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON c."Id" = o."CampaignId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 16:50:48.730 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HbCampaignModule.Infrastructure.Context.PostgreSqlDbContext'.
Npgsql.PostgresException (0x80004005): 42703: o.CampaignCode sütunu mevcut değil
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: HATA
    SqlState: 42703
    MessageText: o.CampaignCode sütunu mevcut değil
    Hint: Belki  "o.CampaignId" sütununu kullanmak istediniz
    Position: 277
    File: d:\pginstaller_13.auto\postgres.windows-x64\src\backend\parser\parse_relation.c
    Line: 3514
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: o.CampaignCode sütunu mevcut değil
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: HATA
    SqlState: 42703
    MessageText: o.CampaignCode sütunu mevcut değil
    Hint: Belki  "o.CampaignId" sütununu kullanmak istediniz
    Position: 277
    File: d:\pginstaller_13.auto\postgres.windows-x64\src\backend\parser\parse_relation.c
    Line: 3514
    Routine: errorMissingColumn
2021-04-08 16:54:17.003 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 16:54:17.403 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 16:54:17.411 +03:00 [INF] Hosting environment: Development
2021-04-08 16:54:17.414 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 16:54:17.455 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 16:54:17.515 +03:00 [INF] Request finished in 64.5587ms 404 
2021-04-08 16:54:47.682 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateProduct application/json 65
2021-04-08 16:54:47.701 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi)'
2021-04-08 16:54:47.780 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateProduct(HbCampaignModule.Domain.Model.ProductDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 16:54:49.386 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 16:54:50.483 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 16:54:50.793 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("CreatedDate", "Price", "ProductCode", "Stock")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2021-04-08 16:54:50.844 +03:00 [INF] CampaignController CreateProduct success
2021-04-08 16:54:50.853 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.ProductDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 16:54:50.886 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi) in 3095.4049ms
2021-04-08 16:54:50.891 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi)'
2021-04-08 16:54:50.903 +03:00 [INF] Request finished in 3222.2655ms 200 application/json; charset=utf-8
2021-04-08 16:55:00.336 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 16:55:00.343 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 16:55:00.351 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 16:55:00.426 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 16:55:00.438 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 16:55:00.455 +03:00 [ERR] CampaignController CreateOrder error
2021-04-08 16:55:00.460 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 16:55:00.468 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi) in 113.4094ms
2021-04-08 16:55:00.471 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 16:55:00.475 +03:00 [INF] Request finished in 138.6838ms 400 application/json; charset=utf-8
2021-04-08 16:57:21.893 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 16:57:21.897 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 16:57:21.902 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 16:57:28.460 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 16:57:28.468 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:00:25.491 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 17:00:25.879 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 17:00:25.897 +03:00 [INF] Hosting environment: Development
2021-04-08 17:00:25.905 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 17:00:25.947 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 17:00:26.011 +03:00 [INF] Request finished in 67.7003ms 404 
2021-04-08 17:00:38.883 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 17:00:38.902 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 17:00:38.970 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:00:40.173 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:00:41.095 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:00:41.191 +03:00 [ERR] CampaignController CreateOrder error
2021-04-08 17:00:41.202 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 17:00:41.227 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi) in 2248.4353ms
2021-04-08 17:00:41.232 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 17:00:41.242 +03:00 [INF] Request finished in 2361.8686ms 400 application/json; charset=utf-8
2021-04-08 17:02:28.258 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 17:02:28.665 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 17:02:28.676 +03:00 [INF] Hosting environment: Development
2021-04-08 17:02:28.680 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 17:02:28.728 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 17:02:28.788 +03:00 [INF] Request finished in 71.4515ms 404 
2021-04-08 17:02:31.556 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 17:02:31.573 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 17:02:31.643 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:02:35.394 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:02:36.498 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:02:36.650 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:02:36.656 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:02:36.909 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("CampaignId", "CreatedDate", "ProductCode", "ProductId", "Quantity", "SoldPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
UPDATE "Products" SET "Stock" = @p6
WHERE "Id" = @p7;
2021-04-08 17:02:36.964 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "CreatedDate" = @p0, "Price" = @p1, "ProductCode" = @p2, "Stock" = @p3
WHERE "Id" = @p4;
2021-04-08 17:02:36.980 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.OrderDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 17:02:37.014 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi) in 5358.6153ms
2021-04-08 17:02:37.017 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 17:02:37.029 +03:00 [INF] Request finished in 5475.4352ms 200 application/json; charset=utf-8
2021-04-08 17:02:48.929 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 17:02:48.936 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 17:02:48.941 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:02:50.174 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:02:50.188 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:02:50.193 +03:00 [ERR] CampaignController CreateOrder error
2021-04-08 17:02:50.198 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 17:02:50.205 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi) in 1259.029ms
2021-04-08 17:02:50.209 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 17:02:50.213 +03:00 [INF] Request finished in 1285.183ms 400 application/json; charset=utf-8
2021-04-08 17:05:27.216 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateCampaign application/json 128
2021-04-08 17:05:27.220 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 17:05:27.253 +03:00 [INF] Route matched with {action = "CreateCampaign", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateCampaign(HbCampaignModule.Domain.Model.CampaignDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:05:27.282 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:05:27.297 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover"
FROM "Campaigns" AS c
WHERE c."Name" = @__name_0
LIMIT 1
2021-04-08 17:05:27.304 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:05:27.309 +03:00 [ERR] CampaignController CreateCampaign error
2021-04-08 17:05:27.313 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 17:05:27.319 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi) in 62.1196ms
2021-04-08 17:05:27.323 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 17:05:27.328 +03:00 [INF] Request finished in 112.2863ms 400 application/json; charset=utf-8
2021-04-08 17:05:32.727 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateCampaign application/json 128
2021-04-08 17:05:32.732 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 17:05:32.736 +03:00 [INF] Route matched with {action = "CreateCampaign", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateCampaign(HbCampaignModule.Domain.Model.CampaignDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:05:32.744 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:05:32.752 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover"
FROM "Campaigns" AS c
WHERE c."Name" = @__name_0
LIMIT 1
2021-04-08 17:05:32.758 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:05:32.766 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:05:32.815 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Campaigns" ("AverageItemPrice", "CreatedDate", "Duration", "IsActive", "Name", "PriceManipulationLimit", "ProductCode", "ProductId", "TargetSalesCount", "TotalSales", "Turnover")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2021-04-08 17:05:32.828 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.CampaignDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 17:05:32.837 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi) in 96.0564ms
2021-04-08 17:05:32.840 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 17:05:32.843 +03:00 [INF] Request finished in 115.4342ms 200 application/json; charset=utf-8
2021-04-08 17:06:49.745 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 17:06:49.750 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 17:06:49.759 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.Model.Response`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:06:55.036 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:06:55.377 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON c."Id" = o."CampaignId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 17:07:12.530 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Model.Response`1[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-08 17:07:14.097 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi) in 24333.7806ms
2021-04-08 17:07:14.100 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 17:07:14.104 +03:00 [INF] Request finished in 24358.985ms 200 application/json; charset=utf-8
2021-04-08 17:11:38.379 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 17:11:38.382 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 17:11:38.386 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.Model.Response`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:11:46.334 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:11:46.597 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON c."Id" = o."CampaignId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 17:13:50.793 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Model.Response`1[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-08 17:13:50.809 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi) in 132420.707ms
2021-04-08 17:13:50.813 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 17:13:50.816 +03:00 [INF] Request finished in 132437.6246ms 200 application/json; charset=utf-8
2021-04-08 17:16:41.958 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 17:16:41.963 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 17:16:41.967 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.Model.Response`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:16:57.020 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:16:57.176 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON c."Id" = o."CampaignId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 17:17:23.613 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Model.Response`1[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-08 17:17:23.618 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi) in 41646.832ms
2021-04-08 17:17:23.628 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 17:17:23.632 +03:00 [INF] Request finished in 41674.2022ms 200 application/json; charset=utf-8
2021-04-08 17:17:33.881 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 17:17:33.887 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 17:17:33.892 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:17:35.176 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:17:35.183 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:17:35.187 +03:00 [ERR] CampaignController CreateOrder error
2021-04-08 17:17:35.193 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 17:17:35.197 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi) in 1302.422ms
2021-04-08 17:17:35.201 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 17:17:35.204 +03:00 [INF] Request finished in 1323.3693ms 400 application/json; charset=utf-8
2021-04-08 17:17:43.321 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateProduct application/json 65
2021-04-08 17:17:43.324 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi)'
2021-04-08 17:17:43.334 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateProduct(HbCampaignModule.Domain.Model.ProductDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:17:43.346 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:17:43.354 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:17:43.369 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("CreatedDate", "Price", "ProductCode", "Stock")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2021-04-08 17:17:43.385 +03:00 [INF] CampaignController CreateProduct success
2021-04-08 17:17:43.389 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.ProductDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 17:17:43.396 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi) in 58.8372ms
2021-04-08 17:17:43.400 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi)'
2021-04-08 17:17:43.403 +03:00 [INF] Request finished in 82.555ms 200 application/json; charset=utf-8
2021-04-08 17:17:52.609 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateCampaign application/json 128
2021-04-08 17:17:52.614 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 17:17:52.619 +03:00 [INF] Route matched with {action = "CreateCampaign", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateCampaign(HbCampaignModule.Domain.Model.CampaignDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:17:52.625 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:17:52.633 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover"
FROM "Campaigns" AS c
WHERE c."Name" = @__name_0
LIMIT 1
2021-04-08 17:17:52.639 +03:00 [ERR] CampaignController CreateCampaign error
2021-04-08 17:17:52.644 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 17:17:52.649 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi) in 27.1271ms
2021-04-08 17:17:52.653 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 17:17:52.656 +03:00 [INF] Request finished in 46.7756ms 400 application/json; charset=utf-8
2021-04-08 17:20:45.311 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateCampaign application/json 128
2021-04-08 17:20:45.315 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 17:20:45.319 +03:00 [INF] Route matched with {action = "CreateCampaign", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateCampaign(HbCampaignModule.Domain.Model.CampaignDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:20:45.325 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:20:45.407 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover"
FROM "Campaigns" AS c
WHERE c."Name" = @__name_0
LIMIT 1
2021-04-08 17:20:45.417 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:20:45.422 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 17:20:45.431 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Campaigns" ("AverageItemPrice", "CreatedDate", "Duration", "IsActive", "Name", "PriceManipulationLimit", "ProductCode", "ProductId", "TargetSalesCount", "TotalSales", "Turnover")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2021-04-08 17:20:45.439 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.CampaignDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 17:20:45.444 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi) in 121.6481ms
2021-04-08 17:20:45.451 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 17:20:45.455 +03:00 [INF] Request finished in 143.0479ms 200 application/json; charset=utf-8
2021-04-08 17:21:11.924 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 17:21:11.927 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 17:21:11.932 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.Model.Response`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 17:21:19.079 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 17:21:19.249 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON c."Id" = o."CampaignId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 20:21:56.262 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 20:21:56.674 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 20:21:56.682 +03:00 [INF] Hosting environment: Development
2021-04-08 20:21:56.685 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 20:21:56.726 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 20:21:56.788 +03:00 [INF] Request finished in 67.7731ms 404 
2021-04-08 20:22:02.940 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 20:22:02.959 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 20:22:03.028 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.ResultsIF.IDataResult`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 20:22:08.222 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 20:22:09.740 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON c."Id" = o."CampaignId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 20:22:50.812 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 20:22:51.259 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 20:22:51.269 +03:00 [INF] Hosting environment: Development
2021-04-08 20:22:51.277 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 20:22:51.317 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 20:22:51.378 +03:00 [INF] Request finished in 74.7262ms 404 
2021-04-08 20:22:58.513 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 20:22:58.531 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 20:22:58.632 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.ResultsIF.IDataResult`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 20:23:05.311 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 20:23:06.654 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON c."Id" = o."CampaignId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 20:24:02.948 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Campaigns" SET "AverageItemPrice" = @p0, "CreatedDate" = @p1, "Duration" = @p2, "IsActive" = @p3, "Name" = @p4, "PriceManipulationLimit" = @p5, "ProductCode" = @p6, "ProductId" = @p7, "TargetSalesCount" = @p8, "TotalSales" = @p9, "Turnover" = @p10
WHERE "Id" = @p11;
UPDATE "Products" SET "Price" = @p12
WHERE "Id" = @p13;
2021-04-08 20:24:04.623 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "CreatedDate" = @p0, "Price" = @p1, "ProductCode" = @p2, "Stock" = @p3
WHERE "Id" = @p4;
2021-04-08 20:24:26.728 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Campaigns" SET "AverageItemPrice" = @p0, "CreatedDate" = @p1, "Duration" = @p2, "IsActive" = @p3, "Name" = @p4, "PriceManipulationLimit" = @p5, "ProductCode" = @p6, "ProductId" = @p7, "TargetSalesCount" = @p8, "TotalSales" = @p9, "Turnover" = @p10
WHERE "Id" = @p11;
UPDATE "Products" SET "Price" = @p12
WHERE "Id" = @p13;
2021-04-08 20:24:27.452 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "CreatedDate" = @p0, "Price" = @p1, "ProductCode" = @p2, "Stock" = @p3
WHERE "Id" = @p4;
2021-04-08 20:24:30.694 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-08 20:24:30.728 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi) in 92088.0344ms
2021-04-08 20:24:30.733 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 20:24:30.747 +03:00 [INF] Request finished in 92234.9389ms 200 application/json; charset=utf-8
2021-04-08 20:34:25.801 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 20:34:26.199 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 20:34:26.212 +03:00 [INF] Hosting environment: Development
2021-04-08 20:34:26.215 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 20:34:26.259 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 20:34:26.328 +03:00 [INF] Request finished in 74.9185ms 404 
2021-04-08 20:34:44.494 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 20:34:44.510 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 20:34:44.582 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 20:34:51.302 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 20:34:52.379 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 20:35:00.831 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 20:35:04.952 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__order_ProductCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AverageItemPrice", t."CreatedDate", t."Duration", t."IsActive", t."Name", t."PriceManipulationLimit", t."ProductCode", t."ProductId", t."TargetSalesCount", t."TotalSales", t."Turnover", t."Id0", t."CreatedDate0", t."Price", t."ProductCode0", t."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM (
    SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Price", p."ProductCode" AS "ProductCode0", p."Stock"
    FROM "Campaigns" AS c
    INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
    WHERE p."ProductCode" = @__order_ProductCode_0
    LIMIT 1
) AS t
LEFT JOIN "Orders" AS o ON t."Id" = o."CampaignId"
ORDER BY t."Id", t."Id0", o."Id"
2021-04-08 20:35:41.689 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 20:35:44.131 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi) in 59539.1342ms
2021-04-08 20:35:44.137 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 20:35:44.148 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at HbCampaignModule.Infrastructure.Repository.ModelRepos.OrderRepository.CreateOrder(OrderDto order) in C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.Infrastructure\Repository\ModelRepos\OrderRepository.cs:line 38
   at HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder(OrderDto order) in C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi\Controllers\CampaignController.cs:line 82
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-04-08 20:35:44.279 +03:00 [INF] Request finished in 59788.4567ms 500 text/plain
2021-04-08 20:35:56.386 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 20:35:56.392 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 20:35:56.398 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 20:36:00.041 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 20:36:00.047 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 20:36:01.618 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 20:36:04.653 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__order_ProductCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AverageItemPrice", t."CreatedDate", t."Duration", t."IsActive", t."Name", t."PriceManipulationLimit", t."ProductCode", t."ProductId", t."TargetSalesCount", t."TotalSales", t."Turnover", t."Id0", t."CreatedDate0", t."Price", t."ProductCode0", t."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM (
    SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Price", p."ProductCode" AS "ProductCode0", p."Stock"
    FROM "Campaigns" AS c
    INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
    WHERE p."ProductCode" = @__order_ProductCode_0
    LIMIT 1
) AS t
LEFT JOIN "Orders" AS o ON t."Id" = o."CampaignId"
ORDER BY t."Id", t."Id0", o."Id"
2021-04-08 20:36:09.138 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 20:37:03.258 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 20:37:03.693 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 20:37:03.715 +03:00 [INF] Hosting environment: Development
2021-04-08 20:37:03.718 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 20:37:03.768 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 20:37:03.768 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 20:37:03.826 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 20:37:03.855 +03:00 [INF] Request finished in 93.9513ms 404 
2021-04-08 20:37:03.946 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 20:37:07.037 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 20:37:08.163 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 20:37:09.232 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 20:37:11.770 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__order_ProductCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AverageItemPrice", t."CreatedDate", t."Duration", t."IsActive", t."Name", t."PriceManipulationLimit", t."ProductCode", t."ProductId", t."TargetSalesCount", t."TotalSales", t."Turnover", t."Id0", t."CreatedDate0", t."Price", t."ProductCode0", t."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM (
    SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Price", p."ProductCode" AS "ProductCode0", p."Stock"
    FROM "Campaigns" AS c
    INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
    WHERE p."ProductCode" = @__order_ProductCode_0
    LIMIT 1
) AS t
LEFT JOIN "Orders" AS o ON t."Id" = o."CampaignId"
ORDER BY t."Id", t."Id0", o."Id"
2021-04-08 20:37:14.326 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 20:37:23.250 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("CampaignId", "CreatedDate", "ProductCode", "ProductId", "Quantity", "SoldPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
UPDATE "Products" SET "Stock" = @p6
WHERE "Id" = @p7;
2021-04-08 20:37:24.156 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "CreatedDate" = @p0, "Price" = @p1, "ProductCode" = @p2, "Stock" = @p3
WHERE "Id" = @p4;
2021-04-08 20:37:26.576 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.OrderDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 20:37:26.608 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi) in 22652.7917ms
2021-04-08 20:37:26.613 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 20:37:26.624 +03:00 [INF] Request finished in 22864.1024ms 200 application/json; charset=utf-8
2021-04-08 20:38:21.737 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 20:38:21.743 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 20:38:21.752 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.ResultsIF.IDataResult`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 20:38:30.049 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 20:38:30.227 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON c."Id" = o."CampaignId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 20:41:12.994 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 20:41:13.362 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 20:41:13.375 +03:00 [INF] Hosting environment: Development
2021-04-08 20:41:13.378 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 20:41:13.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 20:41:13.487 +03:00 [INF] Request finished in 64.9765ms 404 
2021-04-08 20:41:17.183 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 20:41:17.208 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 20:41:17.278 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.ResultsIF.IDataResult`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 20:41:22.127 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 20:41:23.332 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON p."Id" = o."ProductId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 20:42:25.750 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 20:42:26.142 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 20:42:26.158 +03:00 [INF] Hosting environment: Development
2021-04-08 20:42:26.171 +03:00 [INF] Content root path: C:\Users\MONSTER\source\repos\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 20:42:26.225 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 20:42:26.225 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 20:42:26.276 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 20:42:26.308 +03:00 [INF] Request finished in 92.0681ms 404 
2021-04-08 20:42:26.395 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.ResultsIF.IDataResult`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 20:42:31.240 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 20:42:32.486 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
WHERE c."IsActive"
2021-04-08 23:24:16.830 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 23:24:17.246 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 23:24:17.259 +03:00 [INF] Hosting environment: Development
2021-04-08 23:24:17.266 +03:00 [INF] Content root path: C:\Users\MONSTER\source\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 23:24:17.328 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 23:24:17.384 +03:00 [INF] Request finished in 63.7998ms 404 
2021-04-08 23:24:21.648 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 23:24:21.664 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 23:24:21.735 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:24:25.140 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:24:26.180 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:24:26.299 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:24:28.486 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__order_ProductCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AverageItemPrice", t."CreatedDate", t."Duration", t."IsActive", t."Name", t."PriceManipulationLimit", t."ProductCode", t."ProductId", t."TargetSalesCount", t."TotalSales", t."Turnover", t."Id0", t."CreatedDate0", t."Price", t."ProductCode0", t."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM (
    SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Price", p."ProductCode" AS "ProductCode0", p."Stock"
    FROM "Campaigns" AS c
    INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
    WHERE p."ProductCode" = @__order_ProductCode_0
    LIMIT 1
) AS t
LEFT JOIN "Orders" AS o ON t."Id" = o."CampaignId"
ORDER BY t."Id", t."Id0", o."Id"
2021-04-08 23:24:28.580 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:24:28.764 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("CampaignId", "CreatedDate", "ProductCode", "ProductId", "Quantity", "SoldPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
UPDATE "Products" SET "Stock" = @p6
WHERE "Id" = @p7;
2021-04-08 23:24:28.816 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "CreatedDate" = @p0, "Price" = @p1, "ProductCode" = @p2, "Stock" = @p3
WHERE "Id" = @p4;
2021-04-08 23:24:28.828 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.OrderDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 23:24:28.864 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi) in 7118.6628ms
2021-04-08 23:24:28.868 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 23:24:28.878 +03:00 [INF] Request finished in 7232.0359ms 200 application/json; charset=utf-8
2021-04-08 23:24:34.172 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 23:24:34.178 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 23:24:34.183 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:24:40.317 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:24:40.322 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:24:40.327 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:24:41.049 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__order_ProductCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AverageItemPrice", t."CreatedDate", t."Duration", t."IsActive", t."Name", t."PriceManipulationLimit", t."ProductCode", t."ProductId", t."TargetSalesCount", t."TotalSales", t."Turnover", t."Id0", t."CreatedDate0", t."Price", t."ProductCode0", t."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM (
    SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Price", p."ProductCode" AS "ProductCode0", p."Stock"
    FROM "Campaigns" AS c
    INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
    WHERE p."ProductCode" = @__order_ProductCode_0
    LIMIT 1
) AS t
LEFT JOIN "Orders" AS o ON t."Id" = o."CampaignId"
ORDER BY t."Id", t."Id0", o."Id"
2021-04-08 23:24:41.055 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:24:41.064 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("CampaignId", "CreatedDate", "ProductCode", "ProductId", "Quantity", "SoldPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
UPDATE "Products" SET "Stock" = @p6
WHERE "Id" = @p7;
2021-04-08 23:24:41.072 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "CreatedDate" = @p0, "Price" = @p1, "ProductCode" = @p2, "Stock" = @p3
WHERE "Id" = @p4;
2021-04-08 23:24:41.079 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.OrderDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 23:24:41.089 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi) in 6903.2969ms
2021-04-08 23:24:41.093 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 23:24:41.097 +03:00 [INF] Request finished in 6926.7707ms 200 application/json; charset=utf-8
2021-04-08 23:24:45.969 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateProduct application/json 65
2021-04-08 23:24:45.973 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi)'
2021-04-08 23:24:45.983 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateProduct(HbCampaignModule.Domain.Model.ProductDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:24:46.742 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:24:46.750 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:24:46.755 +03:00 [ERR] CampaignController CreateProduct error
2021-04-08 23:24:46.758 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 23:24:46.764 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi) in 775.5597ms
2021-04-08 23:24:46.771 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi)'
2021-04-08 23:24:46.775 +03:00 [INF] Request finished in 806.5932ms 400 application/json; charset=utf-8
2021-04-08 23:24:53.485 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateProduct application/json 65
2021-04-08 23:24:53.490 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi)'
2021-04-08 23:24:53.495 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateProduct(HbCampaignModule.Domain.Model.ProductDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:24:54.738 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:24:54.746 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:24:54.765 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("CreatedDate", "Price", "ProductCode", "Stock")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2021-04-08 23:24:54.779 +03:00 [INF] CampaignController CreateProduct success
2021-04-08 23:24:54.783 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.ProductDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 23:24:54.790 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi) in 1290.8806ms
2021-04-08 23:24:54.795 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi)'
2021-04-08 23:24:54.798 +03:00 [INF] Request finished in 1314.008ms 200 application/json; charset=utf-8
2021-04-08 23:29:20.660 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 23:29:21.091 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 23:29:21.107 +03:00 [INF] Hosting environment: Development
2021-04-08 23:29:21.111 +03:00 [INF] Content root path: C:\Users\MONSTER\source\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 23:29:21.165 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 23:29:21.232 +03:00 [INF] Request finished in 72.1522ms 404 
2021-04-08 23:29:27.296 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateProduct application/json 65
2021-04-08 23:29:27.312 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi)'
2021-04-08 23:29:27.388 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateProduct(HbCampaignModule.Domain.Model.ProductDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:29:33.382 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:29:34.402 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:29:39.403 +03:00 [ERR] CampaignController CreateProduct error
2021-04-08 23:29:39.415 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 23:29:39.442 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi) in 12045.3267ms
2021-04-08 23:29:39.446 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi)'
2021-04-08 23:29:39.457 +03:00 [INF] Request finished in 12163.4578ms 400 application/json; charset=utf-8
2021-04-08 23:29:50.768 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateProduct application/json 65
2021-04-08 23:29:50.776 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi)'
2021-04-08 23:29:50.781 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateProduct(HbCampaignModule.Domain.Model.ProductDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:29:51.896 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:29:51.906 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:29:52.072 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("CreatedDate", "Price", "ProductCode", "Stock")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2021-04-08 23:29:52.128 +03:00 [INF] CampaignController CreateProduct success
2021-04-08 23:29:52.134 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.ProductDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 23:29:52.146 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi) in 1362.4281ms
2021-04-08 23:29:52.156 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateProduct (HbCampaignModule.WebApi)'
2021-04-08 23:29:52.162 +03:00 [INF] Request finished in 1393.8591ms 200 application/json; charset=utf-8
2021-04-08 23:33:03.773 +03:00 [INF] User profile is available. Using 'C:\Users\MONSTER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-08 23:33:04.160 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-08 23:33:04.175 +03:00 [INF] Hosting environment: Development
2021-04-08 23:33:04.179 +03:00 [INF] Content root path: C:\Users\MONSTER\source\HbCampaignModule\HbCampaignModule.WebApi
2021-04-08 23:33:04.228 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/weatherforecast  
2021-04-08 23:33:04.285 +03:00 [INF] Request finished in 69.7033ms 404 
2021-04-08 23:33:10.245 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/GetProductInfo?ProductCode=P1  
2021-04-08 23:33:10.261 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetProductInfo (HbCampaignModule.WebApi)'
2021-04-08 23:33:10.344 +03:00 [INF] Route matched with {action = "GetProductInfo", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetProductInfo(System.String) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:33:11.762 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:33:12.771 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:33:12.900 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:33:12.926 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.ProductDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 23:33:12.969 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.GetProductInfo (HbCampaignModule.WebApi) in 2615.322ms
2021-04-08 23:33:12.972 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetProductInfo (HbCampaignModule.WebApi)'
2021-04-08 23:33:12.982 +03:00 [INF] Request finished in 2736.8401ms 200 application/json; charset=utf-8
2021-04-08 23:33:24.151 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/GetProductInfo?ProductCode=P5  
2021-04-08 23:33:24.162 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetProductInfo (HbCampaignModule.WebApi)'
2021-04-08 23:33:24.166 +03:00 [INF] Route matched with {action = "GetProductInfo", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetProductInfo(System.String) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:33:24.220 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:33:24.226 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:33:24.234 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 23:33:24.243 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.GetProductInfo (HbCampaignModule.WebApi) in 73.2492ms
2021-04-08 23:33:24.246 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetProductInfo (HbCampaignModule.WebApi)'
2021-04-08 23:33:24.249 +03:00 [INF] Request finished in 98.8621ms 400 application/json; charset=utf-8
2021-04-08 23:33:51.808 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 23:33:51.813 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 23:33:51.820 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:33:53.213 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:33:53.219 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:33:53.226 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:33:54.082 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__order_ProductCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AverageItemPrice", t."CreatedDate", t."Duration", t."IsActive", t."Name", t."PriceManipulationLimit", t."ProductCode", t."ProductId", t."TargetSalesCount", t."TotalSales", t."Turnover", t."Id0", t."CreatedDate0", t."Price", t."ProductCode0", t."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM (
    SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Price", p."ProductCode" AS "ProductCode0", p."Stock"
    FROM "Campaigns" AS c
    INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
    WHERE p."ProductCode" = @__order_ProductCode_0
    LIMIT 1
) AS t
LEFT JOIN "Orders" AS o ON t."Id" = o."CampaignId"
ORDER BY t."Id", t."Id0", o."Id"
2021-04-08 23:33:54.172 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:33:54.344 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("CampaignId", "CreatedDate", "ProductCode", "ProductId", "Quantity", "SoldPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
UPDATE "Products" SET "Stock" = @p6
WHERE "Id" = @p7;
2021-04-08 23:33:54.395 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "CreatedDate" = @p0, "Price" = @p1, "ProductCode" = @p2, "Stock" = @p3
WHERE "Id" = @p4;
2021-04-08 23:33:54.405 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.OrderDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 23:33:54.412 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi) in 2587.7987ms
2021-04-08 23:33:54.416 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 23:33:54.419 +03:00 [INF] Request finished in 2613.0618ms 200 application/json; charset=utf-8
2021-04-08 23:34:13.996 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateOrder application/json 49
2021-04-08 23:34:14.001 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 23:34:14.005 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult CreateOrder(HbCampaignModule.Domain.Model.OrderDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:34:15.316 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:34:15.323 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:34:15.328 +03:00 [ERR] CampaignController CreateOrder error
2021-04-08 23:34:15.333 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 23:34:15.338 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi) in 1328.4826ms
2021-04-08 23:34:15.341 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateOrder (HbCampaignModule.WebApi)'
2021-04-08 23:34:15.345 +03:00 [INF] Request finished in 1349.1705ms 400 application/json; charset=utf-8
2021-04-08 23:34:34.813 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateCampaign application/json 128
2021-04-08 23:34:34.817 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 23:34:34.830 +03:00 [INF] Route matched with {action = "CreateCampaign", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateCampaign(HbCampaignModule.Domain.Model.CampaignDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:34:34.851 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:34:34.864 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover"
FROM "Campaigns" AS c
WHERE c."Name" = @__name_0
LIMIT 1
2021-04-08 23:34:34.869 +03:00 [ERR] CampaignController CreateCampaign error
2021-04-08 23:34:34.872 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 23:34:34.877 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi) in 42.4672ms
2021-04-08 23:34:34.881 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 23:34:34.885 +03:00 [INF] Request finished in 71.9355ms 400 application/json; charset=utf-8
2021-04-08 23:34:44.394 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateCampaign application/json 128
2021-04-08 23:34:44.397 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 23:34:44.401 +03:00 [INF] Route matched with {action = "CreateCampaign", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateCampaign(HbCampaignModule.Domain.Model.CampaignDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:34:44.410 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:34:44.417 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover"
FROM "Campaigns" AS c
WHERE c."Name" = @__name_0
LIMIT 1
2021-04-08 23:34:44.420 +03:00 [ERR] CampaignController CreateCampaign error
2021-04-08 23:34:44.426 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 23:34:44.431 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi) in 26.046ms
2021-04-08 23:34:44.434 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 23:34:44.437 +03:00 [INF] Request finished in 43.5408ms 400 application/json; charset=utf-8
2021-04-08 23:34:46.232 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateCampaign application/json 128
2021-04-08 23:34:46.237 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 23:34:46.242 +03:00 [INF] Route matched with {action = "CreateCampaign", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateCampaign(HbCampaignModule.Domain.Model.CampaignDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:34:46.248 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:34:46.254 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover"
FROM "Campaigns" AS c
WHERE c."Name" = @__name_0
LIMIT 1
2021-04-08 23:34:46.259 +03:00 [ERR] CampaignController CreateCampaign error
2021-04-08 23:34:46.262 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 23:34:46.267 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi) in 21.067ms
2021-04-08 23:34:46.270 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 23:34:46.274 +03:00 [INF] Request finished in 41.7531ms 400 application/json; charset=utf-8
2021-04-08 23:34:49.949 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateCampaign application/json 128
2021-04-08 23:34:49.952 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 23:34:49.956 +03:00 [INF] Route matched with {action = "CreateCampaign", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateCampaign(HbCampaignModule.Domain.Model.CampaignDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:34:49.963 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:34:49.971 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover"
FROM "Campaigns" AS c
WHERE c."Name" = @__name_0
LIMIT 1
2021-04-08 23:34:49.975 +03:00 [ERR] CampaignController CreateCampaign error
2021-04-08 23:34:49.981 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 23:34:49.985 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi) in 25.4123ms
2021-04-08 23:34:49.988 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 23:34:49.991 +03:00 [INF] Request finished in 42.7043ms 400 application/json; charset=utf-8
2021-04-08 23:34:50.932 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateCampaign application/json 128
2021-04-08 23:34:50.937 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 23:34:50.943 +03:00 [INF] Route matched with {action = "CreateCampaign", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateCampaign(HbCampaignModule.Domain.Model.CampaignDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:34:50.950 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:34:50.956 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover"
FROM "Campaigns" AS c
WHERE c."Name" = @__name_0
LIMIT 1
2021-04-08 23:34:50.961 +03:00 [ERR] CampaignController CreateCampaign error
2021-04-08 23:34:50.965 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 23:34:50.968 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi) in 20.863ms
2021-04-08 23:34:50.970 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 23:34:50.974 +03:00 [INF] Request finished in 42.318ms 400 application/json; charset=utf-8
2021-04-08 23:34:51.897 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:56257/api/Campaign/CreateCampaign application/json 128
2021-04-08 23:34:51.900 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 23:34:51.904 +03:00 [INF] Route matched with {action = "CreateCampaign", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateCampaign(HbCampaignModule.Domain.Model.CampaignDto) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:34:51.912 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:34:51.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover"
FROM "Campaigns" AS c
WHERE c."Name" = @__name_0
LIMIT 1
2021-04-08 23:34:51.923 +03:00 [ERR] CampaignController CreateCampaign error
2021-04-08 23:34:51.928 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 23:34:51.934 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi) in 24.5656ms
2021-04-08 23:34:51.937 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.CreateCampaign (HbCampaignModule.WebApi)'
2021-04-08 23:34:51.941 +03:00 [INF] Request finished in 43.6575ms 400 application/json; charset=utf-8
2021-04-08 23:35:04.823 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/GetCampaignInfo?campaignName=C10  
2021-04-08 23:35:04.827 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi)'
2021-04-08 23:35:04.838 +03:00 [INF] Route matched with {action = "GetCampaignInfo", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCampaignInfo(System.String) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:35:06.388 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:35:06.403 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
WHERE c."Name" = @__campaignName_0
LIMIT 1
2021-04-08 23:35:06.408 +03:00 [ERR] CampaignController CreateCampaign error
2021-04-08 23:35:06.413 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 23:35:06.418 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi) in 1576.3303ms
2021-04-08 23:35:06.422 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi)'
2021-04-08 23:35:06.426 +03:00 [INF] Request finished in 1602.4169ms 400 application/json; charset=utf-8
2021-04-08 23:35:12.564 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/GetCampaignInfo?campaignName=C1  
2021-04-08 23:35:12.568 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi)'
2021-04-08 23:35:12.572 +03:00 [INF] Route matched with {action = "GetCampaignInfo", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCampaignInfo(System.String) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:35:13.841 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:35:13.849 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
WHERE c."Name" = @__campaignName_0
LIMIT 1
2021-04-08 23:35:13.860 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Products" AS p
WHERE p."ProductCode" = @__productCode_0
LIMIT 1
2021-04-08 23:35:13.868 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
WHERE c."Name" = @__campaignName_0
LIMIT 1
2021-04-08 23:35:13.882 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[HbCampaignModule.Domain.Model.CampaignDto, HbCampaignModule.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-04-08 23:35:13.892 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi) in 1314.8444ms
2021-04-08 23:35:13.896 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi)'
2021-04-08 23:35:13.899 +03:00 [INF] Request finished in 1335.7719ms 200 application/json; charset=utf-8
2021-04-08 23:35:25.984 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/GetCampaignInfo?campaignName=C10  
2021-04-08 23:35:25.987 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi)'
2021-04-08 23:35:25.990 +03:00 [INF] Route matched with {action = "GetCampaignInfo", controller = "Campaign"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCampaignInfo(System.String) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:35:27.555 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:35:27.564 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
WHERE c."Name" = @__campaignName_0
LIMIT 1
2021-04-08 23:35:27.568 +03:00 [ERR] CampaignController CreateCampaign error
2021-04-08 23:35:27.573 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.ErrorResult'.
2021-04-08 23:35:27.578 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi) in 1582.4015ms
2021-04-08 23:35:27.581 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.GetCampaignInfo (HbCampaignModule.WebApi)'
2021-04-08 23:35:27.585 +03:00 [INF] Request finished in 1600.835ms 400 application/json; charset=utf-8
2021-04-08 23:35:33.900 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:56257/api/Campaign/IncreaseTime?hour=1  
2021-04-08 23:35:33.905 +03:00 [INF] Executing endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 23:35:33.913 +03:00 [INF] Route matched with {action = "IncreaseTime", controller = "Campaign"}. Executing controller action with signature HbCampaignModule.Domain.ResultsIF.IDataResult`1[System.Int32] IncreaseTime(Int32) on controller HbCampaignModule.WebApi.Controllers.CampaignController (HbCampaignModule.WebApi).
2021-04-08 23:35:36.267 +03:00 [INF] Entity Framework Core 5.0.4 initialized 'PostgreSqlDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-04-08 23:35:36.294 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AverageItemPrice", c."CreatedDate", c."Duration", c."IsActive", c."Name", c."PriceManipulationLimit", c."ProductCode", c."ProductId", c."TargetSalesCount", c."TotalSales", c."Turnover", p."Id", p."CreatedDate", p."Price", p."ProductCode", p."Stock", o."Id", o."CampaignId", o."CreatedDate", o."ProductCode", o."ProductId", o."Quantity", o."SoldPrice"
FROM "Campaigns" AS c
INNER JOIN "Products" AS p ON c."ProductId" = p."Id"
LEFT JOIN "Orders" AS o ON c."Id" = o."CampaignId"
WHERE c."IsActive"
ORDER BY c."Id", p."Id", o."Id"
2021-04-08 23:35:36.311 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Campaigns" SET "AverageItemPrice" = @p0, "CreatedDate" = @p1, "Duration" = @p2, "IsActive" = @p3, "Name" = @p4, "PriceManipulationLimit" = @p5, "ProductCode" = @p6, "ProductId" = @p7, "TargetSalesCount" = @p8, "TotalSales" = @p9, "Turnover" = @p10
WHERE "Id" = @p11;
UPDATE "Products" SET "Price" = @p12
WHERE "Id" = @p13;
2021-04-08 23:35:36.316 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "CreatedDate" = @p0, "Price" = @p1, "ProductCode" = @p2, "Stock" = @p3
WHERE "Id" = @p4;
2021-04-08 23:35:36.322 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Campaigns" SET "AverageItemPrice" = @p0, "CreatedDate" = @p1, "Duration" = @p2, "IsActive" = @p3, "Name" = @p4, "PriceManipulationLimit" = @p5, "ProductCode" = @p6, "ProductId" = @p7, "TargetSalesCount" = @p8, "TotalSales" = @p9, "Turnover" = @p10
WHERE "Id" = @p11;
UPDATE "Products" SET "Price" = @p12
WHERE "Id" = @p13;
2021-04-08 23:35:36.327 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Double), @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "CreatedDate" = @p0, "Price" = @p1, "ProductCode" = @p2, "Stock" = @p3
WHERE "Id" = @p4;
2021-04-08 23:35:36.332 +03:00 [INF] Executing ObjectResult, writing value of type 'HbCampaignModule.Domain.Results.SuccessDataResult`1[[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-08 23:35:36.336 +03:00 [INF] Executed action HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi) in 2419.1064ms
2021-04-08 23:35:36.339 +03:00 [INF] Executed endpoint 'HbCampaignModule.WebApi.Controllers.CampaignController.IncreaseTime (HbCampaignModule.WebApi)'
2021-04-08 23:35:36.343 +03:00 [INF] Request finished in 2442.444ms 200 application/json; charset=utf-8
